---
title: 架构规范总结
date: 2016-5-11 18:38:31
tags:
    - Architecture
    - Specification
categories:
    - Summary
description: 总结一些架构方面的普适性经验（理出了大纲，但未完成）.
---

# 原则

## 命名规范
### 重要性
### 如何做？
### 约定优于配置

## 合理的设计
### 适时分层
### 避免过度设计

## 前轻后重
系统之间的调用链，前置系统轻逻辑。
### 上轻下重，核心逻辑内敛
模块之间的调用链，上层模块轻逻辑


## 基础优先
在构建软件时，保持基础组件优先稳定下来，定义好对外接口，并保留可扩展性。
例如安全性设计，在后期加比在前期加的成本高很多。

## 最小冗余

## 保持简单
### 简单意味着快速
### 简单意味着灵活
### 简单意味着易扩展
### 简单意味着易重构

## Fast fail

## 代码即文档
### 合理的注释

## 关键业务设计宣讲
### 保持一致的看法

## 小步快走
### 意味着版本迭代快速
### 意味着版本迭代稳定
### 意味着部署回滚成本低

# 重构与优化
## 紧急优先
优先对紧急需要改进的部分进行重构
## 计划性的重构
在敏捷开发时，往往时间不够，有些模块只能以非优雅的方式构建。但是需要在这些模块加上TODO以免重构时遗忘。
## 时机
团队一致认为模块维护成本高昂时，果断重构。
## 基于成本的优化
## 数据支撑
给出重构前后的成本与收益报告
## 持续性
在时间不够或时机不成熟时，分阶段的进行

# 技术选型
## 开源优先
## 稳定优先
## 掌控度高优先
## 保留备选项
## 只有合适的技术，没有最好的技术。
## 避免一招鲜吃遍天
手里有锤子，看到什么都觉得像钉子
## 技术升级
系统容量与性能指标的要求，在业务发展的各个阶段是不固定的，技术需要保留一定前瞻性，不做被动跟随。

# 团队管理
## keep watch
工作与心理的交流分享
## 保持信任
## 保持怀疑
## 持续考评
## 分享中提高
## 互相备份
## 互相支撑
## 向上管理
## 向下管理
### 了解队员的擅长与不足
### 合理的任务分配
### 适度挑战性的任务
### 给出完成任务需要的资源
### 激励中成长
眼前利益与发展前景
### 给出职业发展的机会
### 公开与公平中考评

## 适时剔除不合格

# 接口
## 版本控制
## 访问控制
访问权限的验证
## 流量控制
拒绝恶意访问
## 审查与监控
## 灰度发布
## 无状态
## 原子化
## CQRS
命令查询职责分离模式，读不强依赖写。


# APP(Client)
## 远程控制权
## 展示为主
## 少的逻辑
## 适度安全

# 部署
## 监控
## 降低升级时间窗
## 没有人需要等待
正式发布后，对于任何用户都是公平使用的。不需要牺牲部分用户利益。
常见于缓存autowarm时需要阻塞第一批到达的用户。
## 提前消除隐患