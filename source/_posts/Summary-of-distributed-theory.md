---
title: 分布式理论总结
date: 2016-5-23 11:34:28
tags:
    - Distributed
categories:
    - Summary
description: 软件系统向分布式方向的演进，带来的利好和不足。
---
# 软件系统的本质是什么？

软件是现实的抽象，讨论抽象的本质是困难的，让我们一起在现实中思考。小到一支笔，大到一部汽车，这些产品使我们在现实生活中得到了方便。我们说的方便，是指因为使用了这些产品，降低了成本，提高了效率。在没有笔的时代，想要记录信息需要岩画，篆刻，这是困难的，高成本的，效率也很低。同样的，没有车的时代，想要到达另一个城市，会因为天气被迫中途搁置，相应的通行时间也会比现在长得多。进一步的思考，笔与汽车的共同点又在哪里呢？

通过以上的思考，可以概括地说，笔与汽车，这些产品是为了满足人们的各类需求而发明的。即，人们因为现实需要，而发明或改进了产品，产品是为了帮助人们更好的生活而存在。同样的，软件系统也是如此，比如人们出于沟通交流需求，发明了电话拨号系统；因为信息交流的多样化、随时随地，发明了各种IM产品。

软件系统是依托于人们现实需求而存在，用以辅助人们更好的生活，它是现实世界在虚拟世界的抽象。同样的软件系统也存在着兴衰淘汰，一款软件刚问世时，受欢迎程度总是处于低谷，存在现实世界对其接受适应的时间窗口，到了逐渐闻名，达到了火热状态，此时依托此软件又会催生出许多子软件链（如chromium的众多壳浏览器）。随着技术革新，软件产业也会更新换代，跟不上时代的软件系统会逐渐退出市场（如vista操作系统的短命）。

# 传统软件的局限性

在软件系统的发展初期，适用面狭窄，功能单一、用户少、价值不够高，造成对软件研发的不重视，成本投入较低，相应的软件所带来的经济收益也是有限的。此时的软件系统往往谈不上架构，往往是一个软件系统承载了所有功能，单个功能模块没有边界，逻辑分散，而各个功能模块之间的耦合关系是散乱的。

在软件系统有机会成长起来后，带来了一定的经济收益，我们会思考软件的功能增多，更适应与用户，此时会对软件系统提出更多的要求。而初期散乱的功能模块的堆叠，对软件的可扩展性带来了巨大的麻烦，紧耦合的架构带来了牵一发而动全身的问题，新功能的增加往往意味着巨大的改造成本。

集中式的软件系统还对系统重构带来挑战，随着功能需求越来越频繁的提出，系统无法适应低时间成本的灵活扩展，往往意味着需要对整个软件系统进行重构，而等到软件散乱性的膨胀到一定程度，重构几乎变成不可完成的任务，任何人无法评估重构带来的风险与收益究竟谁更多。

重构更多的是对软件的可维护性和可扩展性进行提高，无法完成重构的软件，往往都逃不过被淘汰的命运。何时适宜进行重构，需要考量的因素有三个：成本、收益、风险。其中风险是最为重要的，如果系统不进行重构，在未来可能带来巨大的问题，如不能适应分布式部署。此时就有必要进行重构了，重构的同时还需要考虑完成重构需要的成本，包括时间成本、人力成本，团队往往时刻肩负着新功能的开发和旧功能的维护工作，如何在不多的时间和人力中挤出资源呢？

单点服务向多点服务的转变

原因：
性能要求，多节点同时参与服务(按流量权重分发，负载均衡；按读写流量分发，读写分离)。
允许少部分节点失败，更可靠的运行。

数据存储跨机分片，同时每片在多机存在复制集。计算资源无状态，本身就可以动态管理。便捷的扩容缩容(伸缩性)。

因业务分拆，降低耦合粒度，降低系统扩展成本(可扩展性)，更高的可维护性。



带来的问题。
系统内部改造，支持多节点转变。

分布式事务，事务补偿。

分布式存储

分布式访问

容忍最终一致性。